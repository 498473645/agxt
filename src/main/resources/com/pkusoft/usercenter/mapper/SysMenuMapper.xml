<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pkusoft.usercenter.mapper.SysMenuMapper">
    <!-- @codeGenerate -->
    <resultMap id="BaseResultMap" type="com.pkusoft.usercenter.po.SysMenu">
            <id column="MENU_ID" jdbcType="VARCHAR" property="menuId"/>
            <result column="MENU_NAME" jdbcType="VARCHAR" property="menuName"/>
            <result column="SYS_ID" jdbcType="VARCHAR" property="sysId"/>
            <result column="SYS_NAME" jdbcType="VARCHAR" property="sysName"/>
            <result column="ICON" jdbcType="VARCHAR" property="icon"/>
            <result column="MENU_LEVEL" jdbcType="VARCHAR" property="menuLevel"/>
            <result column="TREE_LEVEL" jdbcType="DECIMAL" property="treeLevel"/>
            <result column="TREE_PARENTID" jdbcType="VARCHAR" property="treeParentid"/>
            <result column="VISIABLE" jdbcType="VARCHAR" property="visiable"/>
            <result column="EXPAND" jdbcType="VARCHAR" property="expand"/>
            <result column="ORDER_FLAG" jdbcType="DECIMAL" property="orderFlag"/>
            <result column="RESERVE1" jdbcType="VARCHAR" property="reserve1"/>
            <result column="RESERVE2" jdbcType="VARCHAR" property="reserve2"/>
            <result column="RESERVE3" jdbcType="VARCHAR" property="reserve3"/>
            <result column="RESERVE4" jdbcType="VARCHAR" property="reserve4"/>
            <result column="RESERVE5" jdbcType="VARCHAR" property="reserve5"/>
            <result column="MEMO" jdbcType="VARCHAR" property="memo"/>
            <result column="ADD_TIME" jdbcType="DATE" property="addTime"/>
            <result column="ADD_USER_ID" jdbcType="VARCHAR" property="addUserId"/>
            <result column="ADD_USER_NAME" jdbcType="VARCHAR" property="addUserName"/>
            <result column="MODIFY_TIME" jdbcType="DATE" property="modifyTime"/>
            <result column="MODIFY_USER_ID" jdbcType="VARCHAR" property="modifyUserId"/>
            <result column="MODIFY_USER_NAME" jdbcType="VARCHAR" property="modifyUserName"/>
            <result column="MENU_URL" jdbcType="VARCHAR" property="menuUrl"/>

    </resultMap>

    <sql id="Base_Column_List">
        MENU_ID,MENU_NAME,SYS_ID,SYS_NAME,ICON,MENU_LEVEL,TREE_LEVEL,TREE_PARENTID,VISIABLE,EXPAND,ORDER_FLAG,RESERVE1,RESERVE2,RESERVE3,RESERVE4,RESERVE5,MEMO,ADD_TIME,ADD_USER_ID,ADD_USER_NAME,MODIFY_TIME,MODIFY_USER_ID,MODIFY_USER_NAME,MENU_URL
    </sql>

    <!-- user-defined -->
    <select id="getUserMenuList" resultMap="BaseResultMap" parameterType="java.util.Map">
        select c.MENU_ID,c.MENU_NAME,c.SYS_ID,c.SYS_NAME,c.ICON,c.MENU_LEVEL,c.TREE_LEVEL,c.TREE_PARENTID,c.VISIABLE,c.EXPAND,c.ORDER_FLAG,c.MENU_URL
          from sys_role_user a, sys_role_menu b, sys_menu c
         where a.role_id = b.role_id
           and b.menu_id = c.menu_id
           and a.user_id = #{userId,jdbcType=VARCHAR}
           and c.sys_id = #{sysId,jdbcType=VARCHAR}
           and c.visiable = '1' order by c.tree_level, c.order_flag
    </select>

</mapper>